<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/>
    <title>Application Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{/css/fragment.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/button.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/input.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/competence.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/apply.css}" />
</head>

<body>
<div th:include="fragments/header :: header(name=${user.username})"></div>

<h1 class="apply-title" >Apply to having fun!</h1>
<form th:action="@{/apply}" method="post" th:object="${application}">
        <div>
            <label for="dateFrom" >Available From</label><br>
            <input id="dateFrom" type="date" class="form-dates" th:field="*{dateFrom}" required="required">
        </div>
        <div>
            <label for="dateTo">Available To</label><br>
            <input id="dateTo" type="date" class="form-dates" th:field="*{dateTo}" required="required">
            <div class="date-message message" th:text="${message}"></div>
        </div>

    <div class="container-center-element">
    <div class="shadow bg-light" style="border-radius: 20px;">
    <div class="row row-col-5">
        <div class="col">
            <h5 class="h5-sub-title">Add Competences</h5>
            <div class="table-responsive">
                <div class="container-center-element-small">
                    <div class="straight-line line1"></div>
                    <div class="grid-container">
                        <div class="grid-element grid-head">Competence</div>
                        <div class="grid-element grid-head">Year of Experience</div>
                    </div>
                    <div class="straight-line line2"></div>
                </div>
                    <div>
                        <div class="apply-element-container" th:each="compitem, itemStat: ${predefinedCompetenceList}">
                                <div class="grid-element item1">
                                    <label th:text="${compitem.competence}" class="" style="color:black;"></label>
                                    <input type="hidden" th:field="${application.competences[__${itemStat.index}__].competence}">
                                </div>
                                <!--div class="form-group row">
                                    <div class="col-sm-10">
                                        <input th:field="${application.competences[__${itemStat.index}__].yearsExperience}"  class="form-control" type="number" step="0.1"/>
                                    </div>
                                </div-->
                                <div class="grid-element item2">
                                    <label class="label-input-out" style="color:black;">From:</label>
                                    <div class="label-input">
                                        <input th:field="${application.competences[__${itemStat.index}__].from}"  class="form-control form-dates" type="month" name="yearsExperienceFrom" field="yearsExperienceFrom"/>
                                    </div>
                                </div>
                                <div class="grid-element item3">
                                    <label class="label-input-out" style="color:black;">To:</label>
                                    <div class="label-input">
                                        <input th:field="${application.competences[__${itemStat.index}__].to}" class="form-control form-dates" type="month" name="yearsExperienceTo" field="yearsExperienceTo"/>
                                    </div>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    <button type="submit" class="btn-competence btn-primary btn-large">Submit Application</button>
</form>

<div class="link-home">
    <a class="div-label" th:href="@{/}">Back to Home</a>
</div>
<script>

</script>
</body>
</html>